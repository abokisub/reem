{"version":3,"file":"static/js/5037.76c86e55.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowRight.js","pages/admin/appDownload.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","/* eslint-disable no-restricted-globals */\r\n/* eslint-disable camelcase */\r\n\r\nimport { useState, useEffect, } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useSnackbar } from 'notistack';\r\n// @mui\r\nimport {\r\n  Card,\r\n  Table,\r\n  TableRow,\r\n  TableBody,\r\n  TableCell,\r\n  Container,\r\n  TableContainer,\r\n  TablePagination,\r\n  Switch,\r\n  Button,\r\n  Backdrop,\r\n  CircularProgress\r\n} from '@mui/material';\r\n\r\n// format\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n// hooks\r\nimport useSettings from '../../hooks/useSettings';\r\nimport Iconify from '../../components/Iconify';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport Scrollbar from '../../components/Scrollbar';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\n\r\n// sections\r\nimport { HabukhanListHead ,UserMoreMenu} from '../../sections/admin/user/list';\r\n\r\n\r\n// axios\r\n\r\nimport axios from '../../utils/axios'; \r\nimport { PATH_ADMIN } from '../../routes/paths';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst TABLE_HEAD = [\r\n\r\n{ id: 'app_name', label: 'APP NAME', alignRight: false },\r\n{id: 'app_version', label: 'APP VERSION', alignRight: false},\r\n{id: 'platform', label: 'PLATFORM', alignRight: false},\r\n{id: 'download', label: 'DOWNLOAD', alignRight: false},\r\n\r\n];\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function AdminDownloadApp() {\r\n  const { themeStretch } = useSettings();\r\n  const [userList, setUserList] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [order, setOrder] = useState('asc');\r\n  const [load, SetLoad] = useState(true)\r\n  const [orderBy, setOrderBy] = useState('id');\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [dense, Setdense] = useState(false);\r\n  const AccessToken =  window.localStorage.getItem('accessToken');\r\n  useEffect(()  => {\r\n    const initialize = async () => {\r\n  axios.get(`/api/system/app/softwarwe`).then(data => {\r\n     setUserList(data.data?.app);\r\n     SetLoad(false)\r\n         }).catch(() => SetLoad(false));\r\n        }\r\n        initialize();\r\n  });\r\n\r\n  const handleRequestSort = (property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n \r\n  const handleDeleteUser = (userId) => {\r\n   \r\n            axios.post(`/api/delete/app/${AccessToken}/system`,{\r\n                feature_id:userId\r\n            }).then(() => {\r\n                enqueueSnackbar('deleted')\r\n     const deleteUser = userList.filter((user) => user.id !== userId);\r\n    setUserList(deleteUser);  \r\n            }).catch(error => {\r\n                if(error.data?.message){\r\n                    enqueueSnackbar(error.data.message, { variant: 'error' })   \r\n                }else if(error?.message){\r\n                    enqueueSnackbar(error.message, { variant: 'error' })   \r\n                }else{\r\n                    enqueueSnackbar('An Error Occured', { variant: 'error' })   \r\n                }\r\n               \r\n            });\r\n      \r\n  };\r\n\r\n   \r\n\r\n  const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - userList.length) : 0;\r\n\r\n\r\n\r\n\r\n\r\n  function handleChangeDense(event){\r\n   Setdense(event.target.checked);\r\n  }\r\n\r\n  return (\r\n    <Page title=\"App Download\">\r\n      <Container maxWidth={themeStretch ? false : 'lg'}>\r\n        <HeaderBreadcrumbs\r\n          heading=\"System Apps\"\r\n          links={[\r\n            { name: 'Dashboard', href: PATH_ADMIN.root },\r\n            { name: 'download-app' },\r\n          ]}\r\n          action={\r\n            <Button\r\n              variant=\"contained\"\r\n              component={RouterLink}\r\n              to={PATH_ADMIN.general.newapp_download}\r\n              startIcon={<Iconify icon={'eva:plus-fill'} />}\r\n            >\r\n              Add New App\r\n            </Button>\r\n          }\r\n        />\r\n        <Card>\r\n      \r\n          <Scrollbar>\r\n            <TableContainer sx={{ minWidth: 800 }}>\r\n              <Table\r\n              size={dense ? 'small' : 'medium'}\r\n              >\r\n                <HabukhanListHead\r\n                  order={order}\r\n                  orderBy={orderBy}\r\n                  headLabel={TABLE_HEAD}\r\n                  onRequestSort={handleRequestSort}\r\n                />\r\n\r\n                <TableBody>\r\n                  {userList.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\r\n                    const { id, app_name, app_version, platform, app_link  } = row;\r\n                    return (\r\n                      <TableRow\r\n                        hover\r\n                        key={id}\r\n                        tabIndex={-1}\r\n                      >\r\n                        <TableCell align=\"left\">{app_name}</TableCell>\r\n                        <TableCell align=\"left\">{app_version}</TableCell>\r\n                        <TableCell align=\"left\">{platform}</TableCell>\r\n                       <TableCell align=\"left\">\r\n                       <Button href={app_link} target=\"_blank\" rel=\"noopener\" variant=\"contained\">\r\n        Download\r\n      </Button>\r\n                       </TableCell>\r\n                       <TableCell align=\"right\">\r\n                          <UserMoreMenu onDelete={() => handleDeleteUser(id)} userName={'no_edit'} />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                  {emptyRows > 0 && (\r\n                    <TableRow style={{ height: 53 * emptyRows }}>\r\n                      <TableCell colSpan={6} />\r\n                    </TableRow>\r\n                  )}\r\n                {emptyRows > 0 && (\r\n                    <TableRow style={{ height: 53 * emptyRows }}>\r\n                      <TableCell colSpan={6} />\r\n                    </TableRow>\r\n                  )}\r\n                  \r\n                </TableBody>\r\n\r\n              </Table>\r\n            </TableContainer>\r\n          </Scrollbar>\r\n          \r\n          <FormControlLabel\r\n        control={<Switch checked={dense} onChange={(event) => handleChangeDense(event)} />}\r\n        label=\"Dense padding\" align=\"left\"\r\n      />   \r\n         \r\n       <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={userList.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={(e, page) => setPage(page)}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n          />\r\n            \r\n        </Card>\r\n        <Backdrop\r\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n        open={load}\r\n      >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      </Container>\r\n    </Page>\r\n  );\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\n\r\n \r\n\r\n\r\n\r\n  \r\n\r\n  \r\n"],"names":["createSvgIcon","_jsx","d","TABLE_HEAD","id","label","alignRight","AdminDownloadApp","themeStretch","useSettings","userList","setUserList","useState","page","setPage","enqueueSnackbar","useSnackbar","order","setOrder","load","SetLoad","orderBy","setOrderBy","rowsPerPage","setRowsPerPage","dense","Setdense","AccessToken","window","localStorage","getItem","useEffect","async","axios","get","then","data","_data$data","app","catch","initialize","emptyRows","Math","max","length","Page","title","children","_jsxs","Container","maxWidth","HeaderBreadcrumbs","heading","links","name","href","PATH_ADMIN","root","action","Button","variant","component","RouterLink","to","general","newapp_download","startIcon","Iconify","icon","Card","Scrollbar","TableContainer","sx","minWidth","Table","size","HabukhanListHead","headLabel","onRequestSort","property","TableBody","slice","map","row","app_name","app_version","platform","app_link","TableRow","hover","tabIndex","TableCell","align","target","rel","UserMoreMenu","onDelete","handleDeleteUser","userId","post","concat","feature_id","deleteUser","filter","user","error","_error$data","message","userName","style","height","colSpan","FormControlLabel","control","Switch","checked","onChange","event","handleChangeDense","TablePagination","rowsPerPageOptions","count","onPageChange","e","onRowsPerPageChange","parseInt","value","Backdrop","color","zIndex","theme","drawer","open","CircularProgress"],"sourceRoot":""}