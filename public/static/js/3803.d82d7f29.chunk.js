"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[3803],{3900:(e,n,a)=>{a.d(n,{A:()=>c});a(65043);var t=a(66734),s=a(70579);const c=(0,t.A)((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},51639:(e,n,a)=>{a.d(n,{A:()=>c});a(65043);var t=a(66734),s=a(70579);const c=(0,t.A)((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},59878:(e,n,a)=>{a.r(n),a.d(n,{default:()=>U});var t=a(65043),s=a(35475),c=a(46987),l=a(19252),r=a(78977),i=a(12110),o=a(79650),d=a(71806),u=a(73460),h=a(28076),g=a(10039),x=a(51962),A=a(85865),m=a(4598),b=a(19090),j=a(73023),k=a.n(j),v=a(74605),f=a(48407),p=a(11737),S=a(19838),w=a(26776),y=a(90797),C=a(12670),_=a(24753),D=a(78868),N=a(84473),R=a(70579);const P=[{id:"username",label:"Username",alignRight:!1},{id:"account_name",label:"Account Name",alignRight:!1},{id:"bank_name",label:"Bank Name",alignRight:!1},{id:"account_number",label:"Account Number",alignRight:!1},{id:"bank_code",label:"Bank Code",alignRight:!1}];function U(){const{themeStretch:e}=(0,p.A)(),[n,a]=(0,t.useState)([]),[j,U]=(0,t.useState)(0),[L,B]=(0,t.useState)(!0),[I,O]=(0,t.useState)(0),[z,K]=(0,t.useState)([]),[M,W]=(0,t.useState)(""),[q,E]=(0,t.useState)(5),[F,T]=(0,t.useState)(!1),[Y,H]=(0,t.useState)(!1),{enqueueSnackbar:Q}=(0,c.dh)(),G=window.localStorage.getItem("accessToken");(0,t.useEffect)(()=>{J(j,q,M)},[]);const J=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=arguments.length>2?arguments[2]:void 0;const s=e+1;try{var c,l,r,i,o,d;B(!0);const u=await N.A.get("/api/user/bank/account/details/".concat(G,"/secure?page=").concat(s,"&Habukhan=").concat(n,"&search=").concat(t));a(null===(c=u.data)||void 0===c||null===(l=c.userbank)||void 0===l?void 0:l.data),B(!1),O(null===(r=u.data)||void 0===r||null===(i=r.userbank)||void 0===i?void 0:i.total),U(e),H(0===(null===(o=u.data)||void 0===o||null===(d=o.userbank)||void 0===d?void 0:d.total))}catch(u){B(!1),a([])}},V=e=>{k()({title:"Note",text:"Are You Sure You Want To Delete this user Bank Details",icon:"info",buttons:!0,dangerMode:!0}).then(t=>{t?N.A.post("/api/delete/user/record/bank/hacker/".concat(G,"/system"),{username:e}).then(t=>{console.log(t.data.message),Q(t.data.message);const s=n.filter(n=>!e.includes(n.username));K([]),a(s)}).catch(e=>{var n;null!==(n=e.data)&&void 0!==n&&n.message?Q(e.data.message,{variant:"error"}):Q("An Error Occured",{variant:"error"})}):k()("Request Cancelled")})};return(0,R.jsx)(S.A,{title:"User: Account Details",children:(0,R.jsxs)(l.A,{maxWidth:!e&&"lg",children:[(0,R.jsx)(_.A,{heading:"User Account Details",links:[{name:"Dashboard",href:f.mB.root},{name:"List"}],action:(0,R.jsx)(r.A,{variant:"contained",component:s.N_,to:f.mB.user.newUser,startIcon:(0,R.jsx)(w.A,{icon:"eva:plus-fill"}),children:"New User"})}),(0,R.jsxs)(i.A,{children:[(0,R.jsx)(D.av,{numSelected:z.length,filterName:M,onFilterName:async e=>{W(e),U(0),e?J(j,q,e):(J(j,q,e),H(!1),B(!1))},onDeleteUsers:()=>V(z)}),(0,R.jsx)(y.A,{children:(0,R.jsx)(o.A,{sx:{minWidth:800},children:(0,R.jsxs)(d.A,{size:F?"small":"medium",children:[(0,R.jsx)(D.K2,{headLabel:P,rowCount:n.length,numSelected:z.length,onSelectAllClick:e=>{if(e.target.checked){const e=n.map(e=>e.username);return void K(e)}K([])},onDeleteUsers:()=>V(z)}),L?(0,R.jsx)(h.A,{children:(0,R.jsx)(g.A,{align:"center",colSpan:5,sx:{py:3},children:(0,R.jsx)(A.A,{variant:"body2",children:"Loading ..."})})}):(0,R.jsxs)(R.Fragment,{children:[" ",(0,R.jsx)(u.A,{children:n.map(e=>{const{id:n,username:a,bank_name:t,bank:s,account_number:c,bank_code:l}=e,r=-1!==z.indexOf(a);return(0,R.jsxs)(h.A,{hover:!0,tabIndex:-1,role:"checkbox",selected:r,"aria-checked":r,children:[(0,R.jsx)(g.A,{children:(0,R.jsx)(x.A,{checked:r,onClick:()=>(e=>{const n=z.indexOf(e);let a=[];-1===n?a=a.concat(z,e):0===n?a=a.concat(z.slice(1)):n===z.length-1?a=a.concat(z.slice(0,-1)):n>0&&(a=a.concat(z.slice(0,n),z.slice(n+1))),K(a)})(a)})}),(0,R.jsx)(g.A,{sx:{display:"flex",alignItems:"center"},children:(0,R.jsx)(A.A,{children:a})}),(0,R.jsx)(g.A,{align:"left",children:t}),(0,R.jsx)(g.A,{align:"left",children:s}),(0,R.jsx)(g.A,{align:"left",children:c}),(0,R.jsx)(g.A,{align:"left",children:l})]},n)})})," "]}),Y&&(0,R.jsx)(h.A,{children:(0,R.jsx)(g.A,{align:"center",colSpan:5,sx:{py:3},children:(0,R.jsx)(C.A,{searchQuery:M})})})]})})}),(0,R.jsx)(v.A,{control:(0,R.jsx)(m.A,{checked:F,onChange:e=>function(e){T(e.target.checked)}(e)}),label:"Dense padding",align:"left"}),(0,R.jsx)(b.A,{rowsPerPageOptions:[5,10,25,100],component:"div",count:I,rowsPerPage:q,page:j,onPageChange:(e,n)=>J(n,q,status,M),onRowsPerPageChange:e=>{E(parseInt(e.target.value,10)),J(0,e.target.value,M),U(0)}})]})]})})}}}]);
//# sourceMappingURL=3803.d82d7f29.chunk.js.map