"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[8956],{9462:(e,r,s)=>{s.d(r,{A:()=>h});var i=s(80899),a=s(46987),n=s(18403),t=s(24858),o=s(88911),d=s(72812),l=s(43409),c=s(33708),u=s(84473),m=s(70579);function h(e){let{onSent:r,onGetEmail:s}=e;const h=(0,l.A)(),{enqueueSnackbar:p}=(0,a.dh)(),x=i.Ik().shape({email:i.Yj().email("Email must be a valid email address").required("Email is required")}),j=(0,t.mN)({resolver:(0,n.t)(x),defaultValues:{email:""}}),{handleSubmit:g,formState:{isSubmitting:f}}=j;return(0,m.jsx)(c.Op,{methods:j,onSubmit:g(async e=>{try{await u.A.post("/api/reset/mypassword",e),h.current&&(r(),s(e.email))}catch(n){var i,a;if(void 0!==(null===(i=n.data)||void 0===i?void 0:i.message))p(null===(a=n.data)||void 0===a?void 0:a.message,{variant:"error"});else void 0!==(null===n||void 0===n?void 0:n.message)?p(null===n||void 0===n?void 0:n.message,{variant:"error"}):p("Something Went Wrong",{variant:"error"})}}),children:(0,m.jsxs)(o.A,{spacing:3,children:[(0,m.jsx)(c.o3,{name:"email",label:"Email address"}),(0,m.jsx)(d.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:f,children:"Reset Password"})]})})}},21102:(e,r,s)=>{s.d(r,{A:()=>j});var i=s(89379),a=s(80899),n=s(46987),t=s(65043),o=s(24858),d=s(18403),l=s(14194),c=s(88911),u=s(69859),m=s(72812),h=s(30342),p=s(43409),x=s(70579);function j(){const{verify:e,user:r}=(0,h.A)(),{enqueueSnackbar:s}=(0,n.dh)(),j=(0,p.A)(),g=a.Ik().shape({code1:a.Yj().required("Code is required"),code2:a.Yj().required("Code is required"),code3:a.Yj().required("Code is required"),code4:a.Yj().required("Code is required"),code5:a.Yj().required("Code is required"),code6:a.Yj().required("Code is required")}),{watch:f,control:v,setValue:b,handleSubmit:A,setError:w,formState:{errors:y,isSubmitting:S,isValid:q}}=(0,o.mN)({mode:"onBlur",defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:"",code6:""},resolver:(0,d.t)(g)}),P=f();(0,t.useEffect)(()=>{document.addEventListener("paste",k)},[]);const k=e=>{var r;let s=(null===e||void 0===e||null===(r=e.clipboardData)||void 0===r?void 0:r.getData("Text"))||"";s=s.split(""),[].forEach.call(document.querySelectorAll("#field-code"),(e,r)=>{e.value=s[r];const i="code".concat(r+1);b(i,s[r])})};return(0,x.jsxs)("form",{onSubmit:A(async i=>{const a=Object.values(i).join("");try{await e(a,r.email),s("Account Verified")}catch(n){j.current&&w("afterSubmit",n)}}),children:[!!y.afterSubmit&&(0,x.jsx)(l.A,{severity:"error",children:y.afterSubmit.message}),(0,x.jsx)(c.A,{direction:"row",spacing:2,justifyContent:"center",children:Object.keys(P).map((e,r)=>(0,x.jsx)(o.xI,{name:"code".concat(r+1),control:v,render:e=>{let{field:s}=e;return(0,x.jsx)(u.A,(0,i.A)((0,i.A)({},s),{},{id:"field-code",autoFocus:0===r,placeholder:"-",onChange:e=>((e,r)=>{const{maxLength:s,value:i,name:a}=e.target,n=a.replace("code",""),t=Number(n);if(i.length>=s&&t<6){const e=document.querySelector("input[name=code".concat(t+1,"]"));null!==e&&e.focus()}r(e)})(e,s.onChange),inputProps:{maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}}))}},e))}),(0,x.jsx)(m.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:S,disabled:!q,sx:{mt:3},children:"Verify"})]})}},36569:(e,r,s)=>{s.d(r,{A:()=>f});var i=s(80899),a=s(65043),n=s(73216),t=s(24858),o=s(18403),d=s(88911),l=s(14194),c=s(51787),u=s(17392),m=s(72812),h=s(30342),p=s(43409),x=s(26776),j=s(33708),g=s(70579);function f(){const{register:e}=(0,h.A)(),{name:r=""}=(0,n.g)(),s=(0,p.A)(),[f,v]=(0,a.useState)(!1),b=i.Ik().shape({firstName:i.Yj().required("Full name required"),username:i.Yj().required("Username name required"),email:i.Yj().email("Email must be a valid email address").required("Email is required"),password:i.Yj().required("Password is required"),phone:i.Yj().required("Phone Number Required"),pin:i.Yj().min(4,"Transaction Pin Must Be 4 Digits").max(4,"Transaction Pin Must Be 4 Digit").required("Transaction Pin Required")}),A=(0,t.mN)({resolver:(0,o.t)(b),defaultValues:{firstName:"",username:"",email:"",phone:"",password:"",pin:"",ref:r||""}}),{setError:w,handleSubmit:y,formState:{errors:S,isSubmitting:q}}=A;return(0,g.jsx)(j.Op,{methods:A,onSubmit:y(async r=>{try{await e(r.email,r.password,r.firstName,r.username,r.phone,r.ref,r.pin)}catch(i){s.current&&w("afterSubmit",i)}}),children:(0,g.jsxs)(d.A,{spacing:3,children:[!!S.afterSubmit&&(0,g.jsx)(l.A,{severity:"error",children:S.afterSubmit.message}),(0,g.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,g.jsx)(j.o3,{name:"firstName",label:"Full Name"}),(0,g.jsx)(j.o3,{name:"username",label:"Username",InputLabelProps:{shrink:!0}})]}),(0,g.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,g.jsx)(j.o3,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),(0,g.jsx)(j.o3,{name:"phone",type:"number",label:"Phone Number"}),(0,g.jsx)(j.o3,{name:"pin",type:"number",label:"Transaction Pin (4 Digits)"})]}),(0,g.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,g.jsx)(j.o3,{name:"ref",label:"Referral Username (Optional)",disabled:""!==r}),(0,g.jsx)(j.o3,{name:"password",label:"Password",type:f?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,g.jsx)(c.A,{position:"end",children:(0,g.jsx)(u.A,{edge:"end",onClick:()=>v(!f),children:(0,g.jsx)(x.A,{icon:f?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,g.jsx)(m.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:q,sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},boxShadow:"none"},children:"Register"})]})})}},88956:(e,r,s)=>{s.r(r),s.d(r,{default:()=>Y});var i=s(65043),a=s(35475),n=s(34535),t=s(19252),o=s(96446),d=s(85865),l=s(78977),c=s(43629),u=s(48407),m=s(19838),h=(s(36525),s(36569),s(9462),s(21102),s(80899)),p=s(46987),x=s(73216),j=s(18403),g=s(24858),f=s(88911),v=s(51787),b=s(17392),A=s(72812),w=s(43409),y=s(33708),S=s(84473),q=s(26776),P=s(70579);function k(e){let{onSent:r}=e;const s=(0,w.A)(),{name:a=""}=(0,x.g)(),[n,t]=(0,i.useState)(!1),{enqueueSnackbar:o}=(0,p.dh)(),d=h.Ik().shape({password:h.Yj().required("Password is required"),confirmpassword:h.Yj().oneOf([h.KR("password"),null],"Passwords must match")}),l=(0,g.mN)({resolver:(0,j.t)(d),defaultValues:{password:"",confirmpassword:""}}),{handleSubmit:c,formState:{isSubmitting:u}}=l;return(0,P.jsx)(y.Op,{methods:l,onSubmit:c(async e=>{try{await S.A.post("/api/change/mypassword/".concat(a,"/secure"),e),s.current&&r()}catch(t){var i,n;if(void 0!==(null===(i=t.data)||void 0===i?void 0:i.message))o(null===(n=t.data)||void 0===n?void 0:n.message,{variant:"error"});else void 0!==(null===t||void 0===t?void 0:t.message)?o(null===t||void 0===t?void 0:t.message,{variant:"error"}):o("Something Went Wrong",{variant:"error"})}}),children:(0,P.jsxs)(f.A,{spacing:3,children:[(0,P.jsx)(y.o3,{name:"password",label:"New Password",type:n?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,P.jsx)(v.A,{position:"end",children:(0,P.jsx)(b.A,{onClick:()=>t(!n),edge:"end",children:(0,P.jsx)(q.A,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,P.jsx)(y.o3,{name:"confirmpassword",label:"Confirm Password",type:n?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,P.jsx)(v.A,{position:"end",children:(0,P.jsx)(b.A,{onClick:()=>t(!n),edge:"end",children:(0,P.jsx)(q.A,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,P.jsx)(A.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:u,children:"Reset Password"})]})})}var C=s(43697);const N=(0,n.Ay)("div")(e=>{let{theme:r}=e;return{display:"flex",minHeight:"100%",alignItems:"center",justifyContent:"center",padding:r.spacing(12,0)}});function Y(){const[e,r]=(0,i.useState)(!1);return(0,P.jsx)(m.A,{title:"Change Password",sx:{height:1},children:(0,P.jsxs)(N,{children:[(0,P.jsx)(c.A,{}),(0,P.jsx)(t.A,{children:(0,P.jsx)(o.A,{sx:{maxWidth:480,mx:"auto"},children:e?(0,P.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,P.jsx)(C.m1,{sx:{mb:5,mx:"auto",height:160}}),(0,P.jsx)(d.A,{variant:"h3",gutterBottom:!0,children:"password Reset Successfully"}),(0,P.jsx)(l.A,{size:"large",variant:"contained",component:a.N_,to:u.pi.login,sx:{mt:5},children:"Back"})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{variant:"h3",paragraph:!0,children:"Reset Password"}),(0,P.jsx)(d.A,{sx:{color:"text.secondary",mb:5},children:"Please enter a strong password"}),(0,P.jsx)(k,{onSent:()=>r(!0)}),(0,P.jsx)(l.A,{fullWidth:!0,size:"large",component:a.N_,to:u.pi.login,sx:{mt:1},children:"Back"})]})})})]})})}}}]);
//# sourceMappingURL=8956.e715edbc.chunk.js.map