{"version":3,"file":"static/js/8486.32f19a29.chunk.js","mappings":"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","sources":["pages/dashboard/wallet-summary.js","components/Label.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useState, useEffect } from 'react';\r\nimport { sentenceCase, capitalCase } from 'change-case';\r\n\r\n// @mui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport {\r\n    Card,\r\n    Table,\r\n    TableRow,\r\n    TableBody,\r\n    TableCell,\r\n    Container,\r\n    Typography,\r\n    TableContainer,\r\n    TablePagination,\r\n    Grid,\r\n    Stack,\r\n    Tabs,\r\n    Tab\r\n} from '@mui/material';\r\n\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../routes/paths';\r\n// hooks\r\nimport useSettings from '../../hooks/useSettings';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport Label from '../../components/Label';\r\nimport Scrollbar from '../../components/Scrollbar';\r\nimport SearchNotFound from '../../components/SearchNotFound';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\n// format number\r\nimport { fCurrency } from '../../utils/formatNumber';\r\n// sections\r\nimport { TransHead, PlanToolbar } from '../../sections/admin/user/list';\r\n// axios\r\nimport axios from '../../utils/axios';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst TABLE_HEAD = [\r\n    { id: 'reference', label: 'Reference', alignRight: false },\r\n    { id: 'type', label: 'Type', alignRight: false },\r\n    { id: 'amount', label: 'Amount', alignRight: false },\r\n    { id: 'oldbal', label: 'Old Balance', alignRight: false },\r\n    { id: 'newbal', label: 'New Balance', alignRight: false },\r\n    { id: 'date', label: 'Date', alignRight: false },\r\n    { id: 'status', label: 'Status', alignRight: false },\r\n];\r\n\r\nconst WALLET_TABS = [\r\n    { value: 'all', label: 'All' },\r\n    { value: 'deposits', label: 'Deposits' },\r\n    { value: 'payments', label: 'Payments' }\r\n];\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function WalletSummary() {\r\n    const theme = useTheme();\r\n    const { themeStretch } = useSettings();\r\n    const [transactions, setTransactions] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [load, SetLoad] = useState(true);\r\n    const [totalPage, SetTotal] = useState(0);\r\n    const [filterName, setFilterName] = useState('');\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const [isNotFound, SetNotFound] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('all');\r\n    const [summary, setSummary] = useState({\r\n        totalDeposits: 0,\r\n        totalPayments: 0,\r\n        currentBalance: 0\r\n    });\r\n    const AccessToken = window.localStorage.getItem('accessToken');\r\n\r\n    useEffect(() => {\r\n        initialize(page, rowsPerPage, filterName, activeTab);\r\n        fetchSummary();\r\n    }, []);\r\n\r\n    const fetchSummary = async () => {\r\n        try {\r\n            // Fetch deposit summary\r\n            const depositRes = await axios.get(\r\n                `/api/system/all/deposit/trans/system/${AccessToken}/secure?page=1&limit=1000&status=ALL&search=`\r\n            );\r\n            const deposits = depositRes.data?.deposit_trans?.data || [];\r\n            const totalDeposits = deposits.reduce((sum, item) => sum + parseFloat(item.amount || 0), 0);\r\n\r\n            // Fetch transaction summary for payments\r\n            const transRes = await axios.get(\r\n                `/api/system/all/history/records/${AccessToken}/secure?page=1&limit=1000&status=ALL&search=`\r\n            );\r\n            const payments = transRes.data?.all_summary?.data || [];\r\n            const totalPayments = payments.reduce((sum, item) => sum + parseFloat(item.amount || 0), 0);\r\n\r\n            setSummary({\r\n                totalDeposits,\r\n                totalPayments,\r\n                currentBalance: totalDeposits - totalPayments\r\n            });\r\n        } catch (error) {\r\n            console.error('Error fetching summary:', error);\r\n        }\r\n    };\r\n\r\n    const initialize = async (pag, Habukhan = 10, search, tab) => {\r\n        let Habukhan_page;\r\n        if (pag > page) {\r\n            Habukhan_page = pag + 1;\r\n        } else {\r\n            Habukhan_page = pag;\r\n        }\r\n        SetLoad(true);\r\n\r\n        try {\r\n            let allTransactions = [];\r\n\r\n            if (tab === 'all' || tab === 'deposits') {\r\n                // Fetch deposits\r\n                const depositRes = await axios.get(\r\n                    `/api/system/all/deposit/trans/system/${AccessToken}/secure?page=${Habukhan_page}&limit=${Habukhan}&status=ALL&search=${search}`\r\n                );\r\n                const deposits = (depositRes.data?.deposit_trans?.data || []).map(item => ({\r\n                    ...item,\r\n                    type: 'Deposit',\r\n                    transType: 'deposit'\r\n                }));\r\n                allTransactions = [...allTransactions, ...deposits];\r\n            }\r\n\r\n            if (tab === 'all' || tab === 'payments') {\r\n                // Fetch payments (transaction history)\r\n                const transRes = await axios.get(\r\n                    `/api/system/all/history/records/${AccessToken}/secure?page=${Habukhan_page}&limit=${Habukhan}&status=ALL&search=${search}`\r\n                );\r\n                const payments = (transRes.data?.all_summary?.data || []).map(item => ({\r\n                    ...item,\r\n                    type: 'Payment',\r\n                    transType: 'payment'\r\n                }));\r\n                allTransactions = [...allTransactions, ...payments];\r\n            }\r\n\r\n            // Sort by date\r\n            allTransactions.sort((a, b) => new Date(b.plan_date || b.date) - new Date(a.plan_date || a.date));\r\n\r\n            setTransactions(allTransactions);\r\n            SetTotal(allTransactions.length);\r\n            SetLoad(false);\r\n            setPage(pag);\r\n            SetNotFound(allTransactions.length === 0);\r\n        } catch (error) {\r\n            console.error('Error fetching wallet data:', error);\r\n            SetLoad(false);\r\n            setTransactions([]);\r\n            SetNotFound(true);\r\n        }\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        initialize(0, event.target.value, filterName, activeTab);\r\n        setPage(0);\r\n    };\r\n\r\n    const handleFilterByName = async (filterName) => {\r\n        setFilterName(filterName);\r\n        setPage(0);\r\n        initialize(page, rowsPerPage, filterName, activeTab);\r\n    };\r\n\r\n    const handleTabChange = (event, newValue) => {\r\n        setActiveTab(newValue);\r\n        setPage(0);\r\n        initialize(0, rowsPerPage, filterName, newValue);\r\n    };\r\n\r\n    return (\r\n        <Page title=\"Wallet Summary\">\r\n            <Container maxWidth={themeStretch ? false : 'lg'}>\r\n                <HeaderBreadcrumbs\r\n                    heading=\"Wallet Summary\"\r\n                    links={[\r\n                        { name: 'Dashboard', href: PATH_DASHBOARD.general.app },\r\n                        { name: 'Wallet Summary' },\r\n                    ]}\r\n                />\r\n\r\n                {/* Summary Cards */}\r\n                <Grid container spacing={3} sx={{ mb: 3 }}>\r\n                    <Grid item xs={12} md={4}>\r\n                        <Card sx={{ p: 3, textAlign: 'center' }}>\r\n                            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                                Total Deposits\r\n                            </Typography>\r\n                            <Typography variant=\"h3\" color=\"success.main\">\r\n                                ₦{fCurrency(summary.totalDeposits)}\r\n                            </Typography>\r\n                        </Card>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={4}>\r\n                        <Card sx={{ p: 3, textAlign: 'center' }}>\r\n                            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                                Total Payments\r\n                            </Typography>\r\n                            <Typography variant=\"h3\" color=\"error.main\">\r\n                                ₦{fCurrency(summary.totalPayments)}\r\n                            </Typography>\r\n                        </Card>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={4}>\r\n                        <Card sx={{ p: 3, textAlign: 'center' }}>\r\n                            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                                Current Balance\r\n                            </Typography>\r\n                            <Typography variant=\"h3\" color=\"primary.main\">\r\n                                ₦{fCurrency(summary.currentBalance)}\r\n                            </Typography>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                {/* Transactions Table */}\r\n                <Card>\r\n                    <Tabs\r\n                        value={activeTab}\r\n                        onChange={handleTabChange}\r\n                        scrollButtons=\"auto\"\r\n                        variant=\"scrollable\"\r\n                        allowScrollButtonsMobile\r\n                    >\r\n                        {WALLET_TABS.map((tab) => (\r\n                            <Tab disableRipple key={tab.value} label={capitalCase(tab.label)} value={tab.value} />\r\n                        ))}\r\n                    </Tabs>\r\n\r\n                    <PlanToolbar filterName={filterName} onFilterName={handleFilterByName} />\r\n\r\n                    <Scrollbar>\r\n                        <TableContainer sx={{ minWidth: 800 }}>\r\n                            <Table>\r\n                                <TransHead\r\n                                    order={'desc'}\r\n                                    orderBy={'date'}\r\n                                    headLabel={TABLE_HEAD}\r\n                                    rowCount={transactions.length}\r\n                                />\r\n\r\n                                {!load ? (\r\n                                    <TableBody>\r\n                                        {transactions.map((row, index) => {\r\n                                            const {\r\n                                                transid,\r\n                                                reference,\r\n                                                type,\r\n                                                amount,\r\n                                                oldbal,\r\n                                                newbal,\r\n                                                plan_date,\r\n                                                date,\r\n                                                plan_status,\r\n                                                status,\r\n                                                transType\r\n                                            } = row;\r\n\r\n                                            const displayDate = plan_date || date;\r\n                                            const displayStatus = plan_status !== undefined ? plan_status : status;\r\n\r\n                                            return (\r\n                                                <TableRow hover key={transid || reference || index} tabIndex={-1}>\r\n                                                    <TableCell>\r\n                                                        <Typography variant=\"subtitle2\" noWrap>\r\n                                                            {transid || reference || 'N/A'}\r\n                                                        </Typography>\r\n                                                    </TableCell>\r\n                                                    <TableCell align=\"left\">\r\n                                                        <Label\r\n                                                            variant=\"soft\"\r\n                                                            color={transType === 'deposit' ? 'success' : 'info'}\r\n                                                        >\r\n                                                            {type}\r\n                                                        </Label>\r\n                                                    </TableCell>\r\n                                                    <TableCell align=\"left\">\r\n                                                        <Typography\r\n                                                            variant=\"subtitle2\"\r\n                                                            color={transType === 'deposit' ? 'success.main' : 'error.main'}\r\n                                                        >\r\n                                                            {transType === 'deposit' ? '+' : '-'}₦{fCurrency(amount)}\r\n                                                        </Typography>\r\n                                                    </TableCell>\r\n                                                    <TableCell align=\"left\">₦{fCurrency(oldbal)}</TableCell>\r\n                                                    <TableCell align=\"left\">₦{fCurrency(newbal)}</TableCell>\r\n                                                    <TableCell align=\"left\">{displayDate}</TableCell>\r\n                                                    <TableCell align=\"left\">\r\n                                                        <Label\r\n                                                            variant={theme.palette.mode === 'light' ? 'ghost' : 'filled'}\r\n                                                            color={displayStatus === 1 ? 'success' : displayStatus === 0 ? 'warning' : 'error'}\r\n                                                        >\r\n                                                            {sentenceCase(\r\n                                                                (displayStatus === 0 && 'processing') ||\r\n                                                                (displayStatus === 1 && 'successful') ||\r\n                                                                (displayStatus === 2 && 'failed') ||\r\n                                                                'completed'\r\n                                                            )}\r\n                                                        </Label>\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            );\r\n                                        })}\r\n                                    </TableBody>\r\n                                ) : (\r\n                                    <TableBody>\r\n                                        <TableRow>\r\n                                            <TableCell align=\"center\" colSpan={7} sx={{ py: 3 }}>\r\n                                                <Typography variant=\"body2\">Loading ...</Typography>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    </TableBody>\r\n                                )}\r\n\r\n                                {isNotFound && (\r\n                                    <TableBody>\r\n                                        <TableRow>\r\n                                            <TableCell align=\"center\" colSpan={7} sx={{ py: 3 }}>\r\n                                                <SearchNotFound searchQuery={filterName} />\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    </TableBody>\r\n                                )}\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </Scrollbar>\r\n\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[5, 10, 25, 100]}\r\n                        component=\"div\"\r\n                        count={totalPage}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={(e, page) => initialize(page, rowsPerPage, filterName, activeTab)}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                    />\r\n                </Card>\r\n            </Container>\r\n        </Page>\r\n    );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { alpha, styled } from '@mui/material/styles';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('span')(({ theme, ownerState }) => {\r\n  const isLight = theme.palette.mode === 'light';\r\n  const { color, variant } = ownerState;\r\n\r\n  const styleFilled = (color) => ({\r\n    color: theme.palette[color].contrastText,\r\n    backgroundColor: theme.palette[color].main,\r\n  });\r\n\r\n  const styleOutlined = (color) => ({\r\n    color: theme.palette[color].main,\r\n    backgroundColor: 'transparent',\r\n    border: `1px solid ${theme.palette[color].main}`,\r\n  });\r\n\r\n  const styleGhost = (color) => ({\r\n    color: theme.palette[color][isLight ? 'dark' : 'light'],\r\n    backgroundColor: alpha(theme.palette[color].main, 0.16),\r\n  });\r\n\r\n  return {\r\n    height: 22,\r\n    minWidth: 22,\r\n    lineHeight: 0,\r\n    borderRadius: 8,\r\n    cursor: 'default',\r\n    alignItems: 'center',\r\n    whiteSpace: 'nowrap',\r\n    display: 'inline-flex',\r\n    justifyContent: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    color: theme.palette.grey[800],\r\n    fontSize: theme.typography.pxToRem(12),\r\n    fontFamily: theme.typography.fontFamily,\r\n    backgroundColor: theme.palette.grey[300],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n\r\n    ...(color !== 'default'\r\n      ? {\r\n          ...(variant === 'filled' && { ...styleFilled(color) }),\r\n          ...(variant === 'outlined' && { ...styleOutlined(color) }),\r\n          ...(variant === 'ghost' && { ...styleGhost(color) }),\r\n        }\r\n      : {\r\n          ...(variant === 'outlined' && {\r\n            backgroundColor: 'transparent',\r\n            color: theme.palette.text.primary,\r\n            border: `1px solid ${theme.palette.grey[500_32]}`,\r\n          }),\r\n          ...(variant === 'ghost' && {\r\n            color: isLight ? theme.palette.text.secondary : theme.palette.common.white,\r\n            backgroundColor: theme.palette.grey[500_16],\r\n          }),\r\n        }),\r\n  };\r\n});\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nLabel.propTypes = {\r\n  children: PropTypes.node,\r\n  color: PropTypes.oneOf(['default', 'primary', 'secondary', 'info', 'success', 'warning', 'error']),\r\n  variant: PropTypes.oneOf(['filled', 'outlined', 'ghost']),\r\n};\r\n\r\nexport default function Label({ color = 'default', variant = 'ghost', children, ...other }) {\r\n  return (\r\n    <RootStyle ownerState={{ color, variant }} {...other}>\r\n      {children}\r\n    </RootStyle>\r\n  );\r\n}\r\n"],"names":["TABLE_HEAD","id","label","alignRight","WALLET_TABS","value","WalletSummary","theme","useTheme","themeStretch","useSettings","transactions","setTransactions","useState","page","setPage","load","SetLoad","totalPage","SetTotal","filterName","setFilterName","rowsPerPage","setRowsPerPage","isNotFound","SetNotFound","activeTab","setActiveTab","summary","setSummary","totalDeposits","totalPayments","currentBalance","AccessToken","window","localStorage","getItem","useEffect","initialize","fetchSummary","async","_depositRes$data","_depositRes$data$depo","_transRes$data","_transRes$data$all_su","depositRes","axios","get","concat","data","deposit_trans","reduce","sum","item","parseFloat","amount","transRes","all_summary","error","console","pag","Habukhan_page","Habukhan","arguments","length","undefined","search","tab","allTransactions","_depositRes$data2","_depositRes$data2$dep","deposits","map","_objectSpread","type","transType","_transRes$data2","_transRes$data2$all_s","payments","sort","a","b","Date","plan_date","date","_jsx","Page","title","children","_jsxs","Container","maxWidth","HeaderBreadcrumbs","heading","links","name","href","PATH_DASHBOARD","general","app","Grid","container","spacing","sx","mb","xs","md","Card","p","textAlign","Typography","variant","color","fCurrency","Tabs","onChange","handleTabChange","event","newValue","scrollButtons","allowScrollButtonsMobile","Tab","disableRipple","capitalCase","PlanToolbar","onFilterName","Scrollbar","TableContainer","minWidth","Table","TransHead","order","orderBy","headLabel","rowCount","TableBody","TableRow","TableCell","align","colSpan","py","row","index","transid","reference","oldbal","newbal","plan_status","status","displayDate","displayStatus","hover","tabIndex","noWrap","Label","palette","mode","sentenceCase","SearchNotFound","searchQuery","TablePagination","rowsPerPageOptions","component","count","onPageChange","e","onRowsPerPageChange","parseInt","target","RootStyle","styled","_ref","ownerState","isLight","height","lineHeight","borderRadius","cursor","alignItems","whiteSpace","display","justifyContent","padding","grey","fontSize","typography","pxToRem","fontFamily","backgroundColor","fontWeight","fontWeightBold","contrastText","main","styleFilled","border","styleOutlined","alpha","styleGhost","text","primary","secondary","common","white","_ref2","other","_objectWithoutProperties","_excluded"],"sourceRoot":""}