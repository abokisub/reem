"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[9878],{59878:(e,n,a)=>{a.r(n),a.d(n,{default:()=>U});var t=a(65043),s=a(35475),c=a(46987),l=a(19252),i=a(78977),r=a(12110),o=a(79650),d=a(71806),u=a(73460),h=a(28076),g=a(10039),x=a(51962),m=a(85865),A=a(4598),b=a(19090),j=a(73023),k=a.n(j),v=a(74605),f=a(48407),p=a(11737),S=a(19838),w=a(26776),C=a(90797),_=a(12670),y=a(24753),D=a(14539),N=a(84473),P=a(70579);const R=[{id:"username",label:"Username",alignRight:!1},{id:"account_name",label:"Account Name",alignRight:!1},{id:"bank_name",label:"Bank Name",alignRight:!1},{id:"account_number",label:"Account Number",alignRight:!1},{id:"bank_code",label:"Bank Code",alignRight:!1}];function U(){const{themeStretch:e}=(0,p.A)(),[n,a]=(0,t.useState)([]),[j,U]=(0,t.useState)(0),[B,I]=(0,t.useState)(!0),[O,L]=(0,t.useState)(0),[W,q]=(0,t.useState)([]),[E,F]=(0,t.useState)(""),[T,Y]=(0,t.useState)(5),[z,K]=(0,t.useState)(!1),[M,Q]=(0,t.useState)(!1),{enqueueSnackbar:G}=(0,c.dh)(),H=window.localStorage.getItem("accessToken");(0,t.useEffect)(()=>{J(j,T,E)},[]);const J=async function(e){let n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2?arguments[2]:void 0;n=e>j?e+1:e;try{var c,l,i,r,o,d;I(!0);const u=await N.A.get("/api/user/bank/account/details/".concat(H,"/secure?page=").concat(n,"&adex=").concat(t,"&search=").concat(s));a(null===(c=u.data)||void 0===c||null===(l=c.userbank)||void 0===l?void 0:l.data),I(!1),L(null===(i=u.data)||void 0===i||null===(r=i.userbank)||void 0===r?void 0:r.total),U(e),Q(0===(null===(o=u.data)||void 0===o||null===(d=o.userbank)||void 0===d?void 0:d.total))}catch(u){I(!1),a([])}},V=e=>{k()({title:"Note",text:"Are You Sure You Want To Delete this user Bank Details",icon:"info",buttons:!0,dangerMode:!0}).then(t=>{t?N.A.post("/api/delete/user/adex/bank/hacker/".concat(H,"/system"),{username:e}).then(t=>{console.log(t.data.message),G(t.data.message);const s=n.filter(n=>!e.includes(n.username));q([]),a(s)}).catch(e=>{var n;null!==(n=e.data)&&void 0!==n&&n.message?G(e.data.message,{variant:"error"}):G("An Error Occured",{variant:"error"})}):k()("Request Cancelled")})};return(0,P.jsx)(S.A,{title:"User: Account Details",children:(0,P.jsxs)(l.A,{maxWidth:!e&&"lg",children:[(0,P.jsx)(y.A,{heading:"User Account Details",links:[{name:"Dashboard",href:f.mB.root},{name:"List"}],action:(0,P.jsx)(i.A,{variant:"contained",component:s.N_,to:f.mB.user.newUser,startIcon:(0,P.jsx)(w.A,{icon:"eva:plus-fill"}),children:"New User"})}),(0,P.jsxs)(r.A,{children:[(0,P.jsx)(D.Ab,{numSelected:W.length,filterName:E,onFilterName:async e=>{F(e),U(0),e?J(j,T,e):(J(j,T,e),Q(!1),I(!1))},onDeleteUsers:()=>V(W)}),(0,P.jsx)(C.A,{children:(0,P.jsx)(o.A,{sx:{minWidth:800},children:(0,P.jsxs)(d.A,{size:z?"small":"medium",children:[(0,P.jsx)(D.K2,{headLabel:R,rowCount:n.length,numSelected:W.length,onSelectAllClick:e=>{if(e.target.checked){const e=n.map(e=>e.username);return void q(e)}q([])},onDeleteUsers:()=>V(W)}),B?(0,P.jsx)(h.A,{children:(0,P.jsx)(g.A,{align:"center",colSpan:5,sx:{py:3},children:(0,P.jsx)(m.A,{variant:"body2",children:"Loading ..."})})}):(0,P.jsxs)(P.Fragment,{children:[" ",(0,P.jsx)(u.A,{children:n.map(e=>{const{id:n,username:a,bank_name:t,bank:s,account_number:c,bank_code:l}=e,i=-1!==W.indexOf(a);return(0,P.jsxs)(h.A,{hover:!0,tabIndex:-1,role:"checkbox",selected:i,"aria-checked":i,children:[(0,P.jsx)(g.A,{children:(0,P.jsx)(x.A,{checked:i,onClick:()=>(e=>{const n=W.indexOf(e);let a=[];-1===n?a=a.concat(W,e):0===n?a=a.concat(W.slice(1)):n===W.length-1?a=a.concat(W.slice(0,-1)):n>0&&(a=a.concat(W.slice(0,n),W.slice(n+1))),q(a)})(a)})}),(0,P.jsx)(g.A,{sx:{display:"flex",alignItems:"center"},children:(0,P.jsx)(m.A,{children:a})}),(0,P.jsx)(g.A,{align:"left",children:t}),(0,P.jsx)(g.A,{align:"left",children:s}),(0,P.jsx)(g.A,{align:"left",children:c}),(0,P.jsx)(g.A,{align:"left",children:l})]},n)})})," "]}),M&&(0,P.jsx)(h.A,{children:(0,P.jsx)(g.A,{align:"center",colSpan:5,sx:{py:3},children:(0,P.jsx)(_.A,{searchQuery:E})})})]})})}),(0,P.jsx)(v.A,{control:(0,P.jsx)(A.A,{checked:z,onChange:e=>function(e){K(e.target.checked)}(e)}),label:"Dense padding",align:"left"}),(0,P.jsx)(b.A,{rowsPerPageOptions:[5,10,25,100],component:"div",count:O,rowsPerPage:T,page:j,onPageChange:(e,n)=>J(n,T,status,E),onRowsPerPageChange:e=>{Y(parseInt(e.target.value,10)),J(0,e.target.value,E),U(0)}})]})]})})}}}]);
//# sourceMappingURL=9878.03996240.chunk.js.map