"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[5552],{95552:(e,a,n)=>{n.r(a),n.d(a,{default:()=>D});var t=n(65043),s=n(35475),r=n(46987),l=n(19252),i=n(78977),o=n(12110),d=n(79650),c=n(71806),h=n(73460),p=n(28076),g=n(10039),A=n(4598),x=n(19090),u=n(12220),j=n(81637),m=n(74605),f=n(11737),v=n(26776),w=n(19838),b=n(90797),S=n(24753),k=n(14539),P=n(84473),_=n(48407),R=n(70579);const y=[{id:"app_name",label:"APP NAME",alignRight:!1},{id:"app_version",label:"APP VERSION",alignRight:!1},{id:"platform",label:"PLATFORM",alignRight:!1},{id:"download",label:"DOWNLOAD",alignRight:!1}];function D(){const{themeStretch:e}=(0,f.A)(),[a,n]=(0,t.useState)([]),[D,I]=(0,t.useState)(0),{enqueueSnackbar:N}=(0,r.dh)(),[O,C]=(0,t.useState)("asc"),[z,E]=(0,t.useState)(!0),[B,L]=(0,t.useState)("id"),[M,W]=(0,t.useState)(5),[q,T]=(0,t.useState)(!1),F=window.localStorage.getItem("accessToken");(0,t.useEffect)(()=>{(async()=>{P.A.get("/api/system/app/softwarwe").then(e=>{var a;n(null===(a=e.data)||void 0===a?void 0:a.app),E(!1)}).catch(()=>E(!1))})()});const V=D>0?Math.max(0,(1+D)*M-a.length):0;return(0,R.jsx)(w.A,{title:"App Download",children:(0,R.jsxs)(l.A,{maxWidth:!e&&"lg",children:[(0,R.jsx)(S.A,{heading:"System Apps",links:[{name:"Dashboard",href:_.mB.root},{name:"download-app"}],action:(0,R.jsx)(i.A,{variant:"contained",component:s.N_,to:_.mB.general.newapp_download,startIcon:(0,R.jsx)(v.A,{icon:"eva:plus-fill"}),children:"Add New App"})}),(0,R.jsxs)(o.A,{children:[(0,R.jsx)(b.A,{children:(0,R.jsx)(d.A,{sx:{minWidth:800},children:(0,R.jsxs)(c.A,{size:q?"small":"medium",children:[(0,R.jsx)(k.zA,{order:O,orderBy:B,headLabel:y,onRequestSort:e=>{C(B===e&&"asc"===O?"desc":"asc"),L(e)}}),(0,R.jsxs)(h.A,{children:[a.slice(D*M,D*M+M).map(e=>{const{id:t,app_name:s,app_version:r,platform:l,app_link:o}=e;return(0,R.jsxs)(p.A,{hover:!0,tabIndex:-1,children:[(0,R.jsx)(g.A,{align:"left",children:s}),(0,R.jsx)(g.A,{align:"left",children:r}),(0,R.jsx)(g.A,{align:"left",children:l}),(0,R.jsx)(g.A,{align:"left",children:(0,R.jsx)(i.A,{href:o,target:"_blank",rel:"noopener",variant:"contained",children:"Download"})}),(0,R.jsx)(g.A,{align:"right",children:(0,R.jsx)(k.o5,{onDelete:()=>{return e=t,void P.A.post("/api/delete/app/".concat(F,"/system"),{feature_id:e}).then(()=>{N("deleted");const t=a.filter(a=>a.id!==e);n(t)}).catch(e=>{var a;null!==(a=e.data)&&void 0!==a&&a.message?N(e.data.message,{variant:"error"}):null!==e&&void 0!==e&&e.message?N(e.message,{variant:"error"}):N("An Error Occured",{variant:"error"})});var e},userName:"no_edit"})})]},t)}),V>0&&(0,R.jsx)(p.A,{style:{height:53*V},children:(0,R.jsx)(g.A,{colSpan:6})}),V>0&&(0,R.jsx)(p.A,{style:{height:53*V},children:(0,R.jsx)(g.A,{colSpan:6})})]})]})})}),(0,R.jsx)(m.A,{control:(0,R.jsx)(A.A,{checked:q,onChange:e=>function(e){T(e.target.checked)}(e)}),label:"Dense padding",align:"left"}),(0,R.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:M,page:D,onPageChange:(e,a)=>I(a),onRowsPerPageChange:e=>{W(parseInt(e.target.value,10)),I(0)}})]}),(0,R.jsx)(u.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:z,children:(0,R.jsx)(j.A,{color:"inherit"})})]})})}}}]);
//# sourceMappingURL=5552.c279d52d.chunk.js.map