"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[7436],{22698:(e,a,t)=>{t.d(a,{A:()=>I});var n=t(58168),r=t(98587),o=t(65043),l=t(58387),s=t(98610),i=t(88092),d=t(34535),c=t(98206),u=t(85865),m=t(67266),p=t(66734),h=t(70579);const x=(0,p.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var v=t(72949);const f=["slots","slotProps"],g=(0,d.Ay)(v.A)(e=>{let{theme:a}=e;return(0,n.A)({display:"flex",marginLeft:"calc(".concat(a.spacing(1)," * 0.5)"),marginRight:"calc(".concat(a.spacing(1)," * 0.5)")},"light"===a.palette.mode?{backgroundColor:a.palette.grey[100],color:a.palette.grey[700]}:{backgroundColor:a.palette.grey[700],color:a.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.A)({},"light"===a.palette.mode?{backgroundColor:a.palette.grey[200]}:{backgroundColor:a.palette.grey[600]}),"&:active":(0,n.A)({boxShadow:a.shadows[0]},"light"===a.palette.mode?{backgroundColor:(0,m.tL)(a.palette.grey[200],.12)}:{backgroundColor:(0,m.tL)(a.palette.grey[600],.12)})})}),b=(0,d.Ay)(x)({width:24,height:16});const A=function(e){const{slots:a={},slotProps:t={}}=e,o=(0,r.A)(e,f),l=e;return(0,h.jsx)("li",{children:(0,h.jsx)(g,(0,n.A)({focusRipple:!0},o,{ownerState:l,children:(0,h.jsx)(b,(0,n.A)({as:a.CollapsedIcon,ownerState:l},t.collapsedIcon))}))})};var y=t(92532),j=t(72372);function w(e){return(0,j.Ay)("MuiBreadcrumbs",e)}const k=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,a)=>[{["& .".concat(k.li)]:a.li},a.root]})({}),R=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,a)=>a.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),V=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,a)=>a.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function B(e,a,t,n){return e.reduce((r,o,l)=>(l<e.length-1?r=r.concat(o,(0,h.jsx)(V,{"aria-hidden":!0,className:a,ownerState:n,children:t},"separator-".concat(l))):r.push(o),r),[])}const I=o.forwardRef(function(e,a){const t=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:m="nav",slots:p={},slotProps:x={},expandText:v="Show path",itemsAfterCollapse:f=1,itemsBeforeCollapse:g=1,maxItems:b=8,separator:y="/"}=t,j=(0,r.A)(t,C),[k,V]=o.useState(!1),I=(0,n.A)({},t,{component:m,expanded:k,expandText:v,itemsAfterCollapse:f,itemsBeforeCollapse:g,maxItems:b,separator:y}),M=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,a)})(I),P=(0,i.A)({elementType:p.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:I}),T=o.useRef(null),W=o.Children.toArray(d).filter(e=>o.isValidElement(e)).map((e,a)=>(0,h.jsx)("li",{className:M.li,children:e},"child-".concat(a)));return(0,h.jsx)(S,(0,n.A)({ref:a,component:m,color:"text.secondary",className:(0,l.A)(M.root,u),ownerState:I},j,{children:(0,h.jsx)(R,{className:M.ol,ref:T,ownerState:I,children:B(k||b&&W.length<=b?W:(e=>g+f>=e.length?e:[...e.slice(0,g),(0,h.jsx)(A,{"aria-label":v,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:P},onClick:()=>{V(!0);const e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-f,e.length)])(W),M.separator,y,I)})}))})},24753:(e,a,t)=>{t.d(a,{A:()=>f});var n=t(89379),r=t(80045),o=t(90620),l=t.n(o),s=t(96446),i=t(85865),d=t(88446),c=t(35475),u=t(22698),m=t(70579);const p=["links","activeLast"];function h(e){let{links:a,activeLast:t=!1}=e,o=(0,r.A)(e,p);const l=a[a.length-1].name,d=a.map(e=>(0,m.jsx)(x,{link:e},e.name)),c=a.map(e=>(0,m.jsx)("div",{children:e.name!==l?(0,m.jsx)(x,{link:e}):(0,m.jsx)(i.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name));return(0,m.jsx)(u.A,(0,n.A)((0,n.A)({separator:(0,m.jsx)(s.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:t?d:c}))}function x(e){let{link:a}=e;const{href:t,name:n,icon:r}=a;return(0,m.jsxs)(d.A,{variant:"body2",component:c.N_,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,m.jsx)(s.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),n]},n)}const v=["links","action","heading","moreLink","sx"];function f(e){let{links:a,action:t,heading:o,moreLink:c=[],sx:u}=e,p=(0,r.A)(e,v);return(0,m.jsxs)(s.A,{sx:(0,n.A)({mb:5},u),children:[(0,m.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsxs)(s.A,{sx:{flexGrow:1},children:[(0,m.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:o}),(0,m.jsx)(h,(0,n.A)({links:a},p))]}),t&&(0,m.jsx)(s.A,{sx:{flexShrink:0},children:t})]}),(0,m.jsx)(s.A,{sx:{mt:2},children:l()(c)?(0,m.jsx)(d.A,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map(e=>(0,m.jsx)(d.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},32344:(e,a,t)=>{t.d(a,{A:()=>i});var n=t(82284),r=t(45479),o=t(43666),l=t(58355);var s=t(16819);function i(e,a){if((0,o.A)(2,arguments),!a||"object"!==(0,n.A)(a))return new Date(NaN);var t=a.years?(0,l.A)(a.years):0,i=a.months?(0,l.A)(a.months):0,d=a.weeks?(0,l.A)(a.weeks):0,c=a.days?(0,l.A)(a.days):0,u=a.hours?(0,l.A)(a.hours):0,m=a.minutes?(0,l.A)(a.minutes):0,p=a.seconds?(0,l.A)(a.seconds):0,h=function(e,a){(0,o.A)(2,arguments);var t=(0,l.A)(a);return(0,s.A)(e,-t)}(e,i+12*t),x=function(e,a){(0,o.A)(2,arguments);var t=(0,l.A)(a);return(0,r.A)(e,-t)}(h,c+7*d),v=1e3*(p+60*(m+60*u));return new Date(x.getTime()-v)}},50467:(e,a,t)=>{t.d(a,{A:()=>c});var n=t(80045),r=t(89379),o=t(34535),l=t(90310),s=t(70579);const i=["color","variant","children"],d=(0,o.Ay)("span")(e=>{let{theme:a,ownerState:t}=e;const n="light"===a.palette.mode,{color:o,variant:s}=t;return(0,r.A)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:a.spacing(0,1),color:a.palette.grey[800],fontSize:a.typography.pxToRem(12),fontFamily:a.typography.fontFamily,backgroundColor:a.palette.grey[300],fontWeight:a.typography.fontWeightBold},"default"!==o?(0,r.A)((0,r.A)((0,r.A)({},"filled"===s&&(0,r.A)({},(e=>({color:a.palette[e].contrastText,backgroundColor:a.palette[e].main}))(o))),"outlined"===s&&(0,r.A)({},(e=>({color:a.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(a.palette[e].main)}))(o))),"ghost"===s&&(0,r.A)({},(e=>({color:a.palette[e][n?"dark":"light"],backgroundColor:(0,l.X4)(a.palette[e].main,.16)}))(o))):(0,r.A)((0,r.A)({},"outlined"===s&&{backgroundColor:"transparent",color:a.palette.text.primary,border:"1px solid ".concat(a.palette.grey[50032])}),"ghost"===s&&{color:n?a.palette.text.secondary:a.palette.common.white,backgroundColor:a.palette.grey[50016]}))});function c(e){let{color:a="default",variant:t="ghost",children:o}=e,l=(0,n.A)(e,i);return(0,s.jsx)(d,(0,r.A)((0,r.A)({ownerState:{color:a,variant:t}},l),{},{children:o}))}},52157:(e,a,t)=>{t.r(a),t.d(a,{default:()=>U});var n=t(67457),r=t(65043),o=t(73216),l=t(19252),s=t(12220),i=t(81637),d=t(48407),c=t(11737),u=t(19838),m=t(24753),p=t(89379),h=t(80899),x=t(46987),v=t(24858),f=t(18403),g=t(72812),b=t(85865),A=t(68903),y=t(12110),j=t(96446),w=t(88911),k=t(73023),C=t.n(k),S=t(34535),R=t(73338),V=t(4961),B=t(50467),I=t(33708),M=t(84473),P=t(70579);const T=(0,S.Ay)(b.A)(e=>{let{theme:a}=e;return(0,p.A)((0,p.A)({},a.typography.subtitle2),{},{color:a.palette.text.secondary,marginBottom:a.spacing(1)})});function W(e){let{isEdit:a,currentUser:t}=e;const{enqueueSnackbar:n}=(0,x.dh)(),[l,s]=(0,r.useState)(!1),i=h.Ik().shape({name:h.Yj().required("Full Name is required"),username:h.Yj().required("Username Required"),email:h.Yj().required("Email is required").email(),phone:h.Yj().required("Phone number is required"),type:h.Yj().required("Account Role Required"),status:h.Yj().required("Account Status Required")}),c=(0,r.useMemo)(()=>({name:(null===t||void 0===t?void 0:t.name)||"",username:(null===t||void 0===t?void 0:t.username)||"",email:(null===t||void 0===t?void 0:t.email)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",address:(null===t||void 0===t?void 0:t.address)||"",user_limit:(null===t||void 0===t?void 0:t.user_limit)||"",type:(null===t||void 0===t?void 0:t.type)||"",autofund:(null===t||void 0===t?void 0:t.autofund)||"",pin:(null===t||void 0===t?void 0:t.pin)||"",profile_image:(null===t||void 0===t?void 0:t.profile_image)||"",about:(null===t||void 0===t?void 0:t.about)||"",status:(null===t||void 0===t?void 0:t.status)||"",reason:(null===t||void 0===t?void 0:t.reason)||"",webhook:(null===t||void 0===t?void 0:t.webhook)||"",otp:(null===t||void 0===t?void 0:t.otp)||"",kyc:(null===t||void 0===t?void 0:t.kyc)||!1,sterlen:(null===t||void 0===t?void 0:t.sterlen)||"",rolex:(null===t||void 0===t?void 0:t.rolex)||"",fed:(null===t||void 0===t?void 0:t.fed)||"",wema:(null===t||void 0===t?void 0:t.wema)||"",apikey:(null===t||void 0===t?void 0:t.apikey)||"",ref:(null===t||void 0===t?void 0:t.ref)||"",bal:(null===t||void 0===t?void 0:t.bal)||"",refbal:(null===t||void 0===t?void 0:t.bal)||"",isVerified:!1}),[t]),u=window.localStorage.getItem("accessToken"),m=(0,o.Zp)(),p=(0,v.mN)({resolver:(0,f.t)(i)}),{reset:k,watch:S,setValue:W,handleSubmit:U,formState:{isSubmitting:_}}=p,q=S();(0,r.useEffect)(()=>{a&&void 0!==t&&k(c),a||k(c)},[a,t]);const N=(0,r.useCallback)(e=>{const a=e[0];a&&W("profile_image",Object.assign(a,{preview:URL.createObjectURL(a)}))},[W]);return(0,P.jsx)(I.Op,{methods:p,onSubmit:U(a?async e=>{let a=new FormData;for(const t in e)a.append(t,e[t]);a.append("user_id",null===t||void 0===t?void 0:t.id);try{await M.A.post("/api/system/admin/edit/edituser/adex/adex/secure/boss/asd/asd/changes/of/key/url/".concat(u,"/secure"),a,{headers:{"Content-Type":"multipart/form-data"}}),n("Update success!")}catch(l){var r,o;if(void 0!==(null===(r=l.data)||void 0===r?void 0:r.message))n(null===(o=l.data)||void 0===o?void 0:o.message,{variant:"error"});else void 0!==(null===l||void 0===l?void 0:l.message)?n(null===l||void 0===l?void 0:l.message,{variant:"error"}):n("Something Went Wrong",{variant:"error"})}}:async e=>{let a=new FormData;for(const n in e)a.append(n,e[n]);try{await M.A.post("/api/system/admin/create/new/user/safe/url/".concat(u,"/secure"),a,{headers:{"Content-Type":"multipart/form-data"}}),n("Create success!"),m(d.mB.user.all_user)}catch(o){var t,r;if(void 0!==(null===(t=o.data)||void 0===t?void 0:t.message))n(null===(r=o.data)||void 0===r?void 0:r.message,{variant:"error"});else void 0!==(null===o||void 0===o?void 0:o.message)?n(null===o||void 0===o?void 0:o.message,{variant:"error"}):n("Something Went Wrong",{variant:"error"})}}),children:(0,P.jsxs)(A.Ay,{container:!0,spacing:3,children:[(0,P.jsx)(A.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(y.A,{sx:{py:10,px:3},children:[a&&(0,P.jsx)(B.A,{color:1!==q.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:(1===q.status||"Active"===q.status?"active":"Unverified"===q.status&&"unverified")||0===q.status&&"unverified"||2===q.status&&"banned"||"Banned"===q.status&&"banned"||3===q.status&&"deactivated"||"Deactivate"===q.status&&"deactivated"}),(0,P.jsx)(j.A,{sx:{mb:5},children:(0,P.jsx)(I.BF,{name:"profile_image",accept:"image/*",maxSize:3145728,onDrop:N,helperText:(0,P.jsxs)(b.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,P.jsx)("br",{})," max size of ",(0,R.tm)(3145728)]})})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(T,{children:"status"}),(0,P.jsx)(I.b$,{name:"status",options:["Active","Deactivate","Banned","Unverified"],sx:{"& .MuiFormControlLabel-root":{mr:4}}})]}),(0,P.jsx)(I.b8,{name:"isVerified",labelPlacement:"start",label:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.A,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),(0,P.jsx)(b.A,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,P.jsx)(I.b8,{name:"kyc",def:1===q.kyc,labelPlacement:"start",label:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.A,{variant:"subtitle2",sx:{mb:.5},children:"KYC verification"}),(0,P.jsx)(b.A,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this means this user account has not been verified"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),(0,P.jsx)(A.Ay,{item:!0,xs:12,md:8,children:(0,P.jsxs)(y.A,{sx:{p:3},children:[(0,P.jsxs)(j.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,P.jsx)(I.o3,{name:"name",label:"Full Name",defaultValue:!0}),(0,P.jsx)(I.o3,{name:"username",label:"Username",defaultValue:!0,disabled:a}),(0,P.jsx)(I.o3,{name:"email",label:"Email Address",defaultValue:!0}),(0,P.jsx)(I.o3,{name:"phone",label:"Phone Number",type:"number",defaultValue:"0",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),(0,P.jsxs)(I.tX,{name:"type",label:"User Role",defaultValue:"SMART",children:[(0,P.jsx)("option",{value:""}),V.ut.map(e=>(0,P.jsx)("option",{value:null===e||void 0===e?void 0:e.label,children:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.code))]}),(0,P.jsx)(I.o3,{name:"address",label:"Address",defaultValue:!0}),(0,P.jsx)(I.o3,{multiline:!0,rows:4,name:"about",label:"About User",defaultValue:!0}),(0,P.jsx)(I.o3,{name:"webhook",label:"Webhook",defaultValue:!0}),(0,P.jsx)(I.o3,{name:"pin",label:"Transaction Pin",defaultValue:"0",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),!a&&(0,P.jsx)(I.o3,{name:"password",label:"Password"}),a&&(0,P.jsx)(I.o3,{multiline:!0,rows:4,name:"reason",label:"Reason",defaultValue:!0}),a&&(0,P.jsx)(I.o3,{name:"user_limit",label:"Daily User Limit",type:"number",defaultValue:"0"}),a&&(0,P.jsx)(I.o3,{name:"apikey",label:"Api Key",defaultValue:!0,disabled:!0}),a&&(0,P.jsx)(I.o3,{name:"bal",label:"Wallet Balance",defaultValue:!0,disabled:!0}),a&&(0,P.jsx)(I.o3,{name:"refbal",label:"Earning Wallet Balance",defaultValue:!0,disabled:!0}),a&&(0,P.jsx)(I.o3,{name:"ref",label:"Referral Username",defaultValue:!0}),a&&(0,P.jsx)(I.o3,{name:"otp",label:"OTP",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},defaultValue:"0"}),a&&(0,P.jsx)(I.o3,{name:"sterlen",label:"Sterling Bank",defaultValue:"0",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),a&&(0,P.jsx)(I.o3,{name:"wema",label:"Wema Bank",defaultValue:"0",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),a&&(0,P.jsx)(I.o3,{name:"rolex",label:"Monnipoint Bank",defaultValue:"0",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),a&&(0,P.jsx)(I.o3,{name:"fed",label:"Fidelity Bank",defaultValue:"0",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]}),(0,P.jsxs)(w.A,{alignItems:"flex-end",sx:{mt:2,display:"grid",columnGap:1,rowGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,P.jsx)(g.A,{type:"submit",variant:"contained",loading:_,children:a?"Save Changes":"Create User then Return User List"}),!a&&(0,P.jsx)(g.A,{type:"button",onClick:U(async e=>{let a=new FormData;for(const n in e)a.append(n,e[n]);try{await M.A.post("/api/system/admin/create/new/user/safe/url/".concat(u,"/secure"),a,{headers:{"Content-Type":"multipart/form-data"}}),k(),n("Create success!")}catch(o){var t,r;if(void 0!==(null===(t=o.data)||void 0===t?void 0:t.message))n(null===(r=o.data)||void 0===r?void 0:r.message,{variant:"error"});else void 0!==(null===o||void 0===o?void 0:o.message)?n(null===o||void 0===o?void 0:o.message,{variant:"error"}):n("Something Went Wrong",{variant:"error"})}}),variant:"contained",color:"warning",loading:_,children:"Create then Reset"}),a&&(0,P.jsx)(g.A,{type:"button",onClick:()=>(async e=>{C()({title:"INFO",text:"Are Sure You Want To Change '".concat(e,"' Apikey"),icon:"info",buttons:!0,dangerMode:!0}).then(a=>{a?(s(!0),M.A.post("/api/system/admin/change_key/changes/of/key/url/".concat(u,"/secure"),{username:e}).then(()=>C()("success","".concat(e," Api Key Changed Successfuly"),"success"),s(!1))):C()("Request Cancelled")})})(null===q||void 0===q?void 0:q.username),variant:"contained",color:"warning",loading:l,children:"Update ApiKey"})]})]})})]})})}function U(){const{themeStretch:e}=(0,c.A)(),{pathname:a}=(0,o.zy)(),{name:t=""}=(0,o.g)(),p=a.includes("edit"),[h,x]=(0,r.useState)(),[v,f]=(0,r.useState)(!0),g=window.localStorage.getItem("accessToken");return(0,r.useEffect)(()=>{(async()=>{t?await M.A.post("/api/system/all/user/edit/user/safe/url/".concat(g,"/secure"),{username:t}).then(e=>{x(e.data.user),f(!1)}).catch(()=>f(!1)):(x([]),f(!1))})()},[g,t,x]),(0,P.jsx)(u.A,{title:p?"Edit user":"Create a new user",children:(0,P.jsxs)(l.A,{maxWidth:!e&&"lg",children:[(0,P.jsx)(m.A,{heading:p?"Edit user":"Create a new user",links:[{name:"Dashboard",href:d.mB.root},{name:"User",href:d.mB.user.all_user},{name:p?(0,n.De)(t):"New user"}]}),(0,P.jsx)(W,{isEdit:p,currentUser:h}),(0,P.jsx)(s.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:v,children:(0,P.jsx)(i.A,{color:"inherit"})})]})})}}}]);
//# sourceMappingURL=7436.32874e84.chunk.js.map