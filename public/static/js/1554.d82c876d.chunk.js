"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[1554],{22698:(e,t,a)=>{a.d(t,{A:()=>R});var s=a(58168),l=a(98587),n=a(65043),r=a(58387),o=a(98610),i=a(88092),c=a(34535),d=a(98206),u=a(85865),p=a(67266),x=a(66734),h=a(70579);const m=(0,x.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var A=a(72949);const b=["slots","slotProps"],f=(0,c.Ay)(A.A)(e=>{let{theme:t}=e;return(0,s.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,s.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,s.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,p.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,p.tL)(t.palette.grey[600],.12)})})}),g=(0,c.Ay)(m)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:a={}}=e,n=(0,l.A)(e,b),r=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,s.A)({focusRipple:!0},n,{ownerState:r,children:(0,h.jsx)(g,(0,s.A)({as:t.CollapsedIcon,ownerState:r},a.collapsedIcon))}))})};var y=a(92532),j=a(72372);function k(e){return(0,j.Ay)("MuiBreadcrumbs",e)}const w=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),S=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,c.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),I=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),B=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function L(e,t,a,s){return e.reduce((l,n,r)=>(r<e.length-1?l=l.concat(n,(0,h.jsx)(B,{"aria-hidden":!0,className:t,ownerState:s,children:a},"separator-".concat(r))):l.push(n),l),[])}const R=n.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:u,component:p="nav",slots:x={},slotProps:m={},expandText:A="Show path",itemsAfterCollapse:b=1,itemsBeforeCollapse:f=1,maxItems:g=8,separator:y="/"}=a,j=(0,l.A)(a,S),[w,B]=n.useState(!1),R=(0,s.A)({},a,{component:p,expanded:w,expandText:A,itemsAfterCollapse:b,itemsBeforeCollapse:f,maxItems:g,separator:y}),_=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},k,t)})(R),M=(0,i.A)({elementType:x.CollapsedIcon,externalSlotProps:m.collapsedIcon,ownerState:R}),P=n.useRef(null),E=n.Children.toArray(c).filter(e=>n.isValidElement(e)).map((e,t)=>(0,h.jsx)("li",{className:_.li,children:e},"child-".concat(t)));return(0,h.jsx)(C,(0,s.A)({ref:t,component:p,color:"text.secondary",className:(0,r.A)(_.root,u),ownerState:R},j,{children:(0,h.jsx)(I,{className:_.ol,ref:P,ownerState:R,children:L(w||g&&E.length<=g?E:(e=>f+b>=e.length?e:[...e.slice(0,f),(0,h.jsx)(v,{"aria-label":A,slots:{CollapsedIcon:x.CollapsedIcon},slotProps:{collapsedIcon:M},onClick:()=>{B(!0);const e=P.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-b,e.length)])(E),_.separator,y,R)})}))})},24753:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(89379),l=a(80045),n=a(90620),r=a.n(n),o=a(96446),i=a(85865),c=a(88446),d=a(35475),u=a(22698),p=a(70579);const x=["links","activeLast"];function h(e){let{links:t,activeLast:a=!1}=e,n=(0,l.A)(e,x);const r=t[t.length-1].name,c=t.map(e=>(0,p.jsx)(m,{link:e},e.name)),d=t.map(e=>(0,p.jsx)("div",{children:e.name!==r?(0,p.jsx)(m,{link:e}):(0,p.jsx)(i.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:r})},e.name));return(0,p.jsx)(u.A,(0,s.A)((0,s.A)({separator:(0,p.jsx)(o.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},n),{},{children:a?c:d}))}function m(e){let{link:t}=e;const{href:a,name:s,icon:l}=t;return(0,p.jsxs)(c.A,{variant:"body2",component:d.N_,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[l&&(0,p.jsx)(o.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:l}),s]},s)}const A=["links","action","heading","moreLink","sx"];function b(e){let{links:t,action:a,heading:n,moreLink:d=[],sx:u}=e,x=(0,l.A)(e,A);return(0,p.jsxs)(o.A,{sx:(0,s.A)({mb:5},u),children:[(0,p.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,p.jsxs)(o.A,{sx:{flexGrow:1},children:[(0,p.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:n}),(0,p.jsx)(h,(0,s.A)({links:t},x))]}),a&&(0,p.jsx)(o.A,{sx:{flexShrink:0},children:a})]}),(0,p.jsx)(o.A,{sx:{mt:2},children:r()(d)?(0,p.jsx)(c.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map(e=>(0,p.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},91554:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(19252),l=a(48407),n=a(11737),r=a(19838),o=a(24753),i=a(65043),c=a(73023),d=a.n(c),u=a(96446),p=a(81637),x=a(68903),h=a(14194),m=a(12110),A=a(53193),b=a(51292),f=a(85865),g=a(57972),v=a(74605),y=a(14256),j=a(84473),k=a(70579);function w(e){var t,a,s,l,n,r;let{setting:o}=e;const[c,w]=(0,i.useState)(!0),[S,C]=(0,i.useState)(!1),[I,B]=(0,i.useState)({palmpay:{enabled:!0,is_default:!1},monnify:{enabled:!0,is_default:!1},wema:{enabled:!0,is_default:!1},xixapay:{enabled:!0,is_default:!1}}),[L,R]=(0,i.useState)("palmpay"),[_,M]=(0,i.useState)(null),P=window.localStorage.getItem("accessToken");(0,i.useEffect)(()=>{E()},[]);const E=async()=>{try{w(!0);const e=await j.A.get("/api/secure/virtualaccounts/status");"success"===e.data.status&&(B(e.data.providers),R(e.data.default_provider))}catch(e){console.error("Error fetching virtual account status:",e),M("Failed to load virtual account settings")}finally{w(!1)}};return c?(0,k.jsx)(u.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,k.jsx)(p.A,{})}):(0,k.jsx)(x.Ay,{container:!0,spacing:3,children:(0,k.jsxs)(x.Ay,{item:!0,xs:12,md:8,children:[_&&(0,k.jsx)(h.A,{severity:"error",sx:{mb:3},children:_}),(0,k.jsxs)(m.A,{sx:{p:3},children:[(0,k.jsxs)(A.A,{component:"fieldset",children:[(0,k.jsxs)(b.A,{component:"legend",children:[(0,k.jsx)(f.A,{variant:"h6",gutterBottom:!0,children:"Default Virtual Account Provider"}),(0,k.jsx)(f.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which virtual account will be displayed on the user's dashboard balance card by default."})]}),(0,k.jsxs)(g.A,{value:L,onChange:async e=>{const t=e.target.value;if(I[t].enabled)try{C(!0),await j.A.post("/api/secure/selection/virtualaccounts/".concat(P,"/habukhan/secure"),{default_provider:t}),R(t),d()("Success","Default provider set to ".concat(t.charAt(0).toUpperCase()+t.slice(1)),"success")}catch(l){var a,s;console.error("Error setting default provider:",l),d()("Error",(null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to set default provider","error")}finally{C(!1)}else d()("Error","Cannot set a disabled provider as default. Please enable it first.","error")},children:[(0,k.jsx)(v.A,{value:"xixapay",control:(0,k.jsx)(y.A,{disabled:S||!(null!==(t=I.xixapay)&&void 0!==t&&t.enabled)}),label:(0,k.jsxs)(u.A,{children:[(0,k.jsx)(f.A,{variant:"subtitle1",children:"Xixapay (Palmpay)"}),(0,k.jsx)(f.A,{variant:"caption",color:"text.secondary",children:!(null!==(a=I.xixapay)&&void 0!==a&&a.enabled)&&"(Disabled - Enable in Lock/Unlock page)"})]})}),(0,k.jsx)(v.A,{value:"monnify",control:(0,k.jsx)(y.A,{disabled:S||!(null!==(s=I.monnify)&&void 0!==s&&s.enabled)}),label:(0,k.jsxs)(u.A,{children:[(0,k.jsx)(f.A,{variant:"subtitle1",children:"Monnify (Moniepoint)"}),(0,k.jsx)(f.A,{variant:"caption",color:"text.secondary",children:!(null!==(l=I.monnify)&&void 0!==l&&l.enabled)&&"(Disabled - Enable in Lock/Unlock page)"})]})}),(0,k.jsx)(v.A,{value:"wema",control:(0,k.jsx)(y.A,{disabled:S||!(null!==(n=I.wema)&&void 0!==n&&n.enabled)}),label:(0,k.jsxs)(u.A,{children:[(0,k.jsx)(f.A,{variant:"subtitle1",children:"Paystack (Wema)"}),(0,k.jsx)(f.A,{variant:"caption",color:"text.secondary",children:!(null!==(r=I.wema)&&void 0!==r&&r.enabled)&&"(Disabled - Enable in Lock/Unlock page)"})]})})]})]}),(0,k.jsx)(h.A,{severity:"info",sx:{mt:3},children:(0,k.jsxs)(f.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Note:"})," The selected provider's account will be displayed on the user's dashboard. Changes take effect immediately."]})})]})]})})}var S=a(30342);function C(){const{themeStretch:e}=(0,n.A)(),{setting:t}=(0,S.A)();return(0,k.jsx)(r.A,{title:"Admin || Virtual Account Selection",children:(0,k.jsxs)(s.A,{maxWidth:!e&&"lg",children:[(0,k.jsx)(o.A,{heading:"Virtual Account Default Selection",links:[{name:"Dashboard",href:l.mB.root},{name:"Virtual Account Selection"}]}),(0,k.jsx)(w,{setting:null===t||void 0===t?void 0:t.setting})]})})}}}]);
//# sourceMappingURL=1554.d82c876d.chunk.js.map