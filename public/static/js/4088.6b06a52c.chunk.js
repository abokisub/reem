"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[4088],{21102:(e,r,t)=>{t.d(r,{A:()=>f});var o=t(89379),i=t(80899),n=t(46987),d=t(65043),c=t(24858),a=t(18403),s=t(14194),l=t(88911),u=t(69859),h=t(72812),m=t(30342),x=t(43409),p=t(70579);function f(){const{verify:e,user:r}=(0,m.A)(),{enqueueSnackbar:t}=(0,n.dh)(),f=(0,x.A)(),v=i.Ik().shape({code1:i.Yj().required("Code is required"),code2:i.Yj().required("Code is required"),code3:i.Yj().required("Code is required"),code4:i.Yj().required("Code is required"),code5:i.Yj().required("Code is required"),code6:i.Yj().required("Code is required")}),{watch:j,control:A,setValue:g,handleSubmit:b,setError:y,formState:{errors:q,isSubmitting:k,isValid:C}}=(0,c.mN)({mode:"onBlur",defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:"",code6:""},resolver:(0,a.t)(v)}),w=j();(0,d.useEffect)(()=>{document.addEventListener("paste",S)},[]);const S=e=>{var r;let t=(null===e||void 0===e||null===(r=e.clipboardData)||void 0===r?void 0:r.getData("Text"))||"";t=t.split(""),[].forEach.call(document.querySelectorAll("#field-code"),(e,r)=>{e.value=t[r];const o="code".concat(r+1);g(o,t[r])})};return(0,p.jsxs)("form",{onSubmit:b(async o=>{const i=Object.values(o).join("");try{await e(i,r.email),t("Account Verified")}catch(n){f.current&&y("afterSubmit",n)}}),children:[!!q.afterSubmit&&(0,p.jsx)(s.A,{severity:"error",children:q.afterSubmit.message}),(0,p.jsx)(l.A,{direction:"row",spacing:2,justifyContent:"center",children:Object.keys(w).map((e,r)=>(0,p.jsx)(c.xI,{name:"code".concat(r+1),control:A,render:e=>{let{field:t}=e;return(0,p.jsx)(u.A,(0,o.A)((0,o.A)({},t),{},{id:"field-code",autoFocus:0===r,placeholder:"-",onChange:e=>((e,r)=>{const{maxLength:t,value:o,name:i}=e.target,n=i.replace("code",""),d=Number(n);if(o.length>=t&&d<6){const e=document.querySelector("input[name=code".concat(d+1,"]"));null!==e&&e.focus()}r(e)})(e,t.onChange),inputProps:{maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}}))}},e))}),(0,p.jsx)(h.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:k,disabled:!C,sx:{mt:3},children:"Verify"})]})}},54088:(e,r,t)=>{t.r(r),t.d(r,{default:()=>b});var o=t(35475),i=t(73023),n=t.n(i),d=t(34535),c=t(19252),a=t(96446),s=t(78977),l=t(85865),u=t(88446),h=t(43629),m=t(48407),x=t(19838),p=t(26776),f=t(21102),v=t(84473),j=t(30342),A=t(70579);const g=(0,d.Ay)("div")(e=>{let{theme:r}=e;return{display:"flex",height:"100%",alignItems:"center",padding:r.spacing(12,0)}});function b(){const{user:e}=(0,j.A)();return(0,A.jsx)(x.A,{title:"Verify",children:(0,A.jsxs)(g,{children:[(0,A.jsx)(h.A,{}),(0,A.jsx)(c.A,{children:(0,A.jsxs)(a.A,{sx:{maxWidth:480,mx:"auto"},children:[(0,A.jsx)(s.A,{size:"small",component:o.N_,to:m.pi.login,startIcon:(0,A.jsx)(p.A,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Back"}),(0,A.jsx)(l.A,{variant:"h3",paragraph:!0,children:"Please check your email!"}),(0,A.jsxs)(l.A,{sx:{color:"text.secondary"},children:["We have emailed a 6-digit confirmation code to ",null===e||void 0===e?void 0:e.email," (spam folder), or  ",null===e||void 0===e?void 0:e.phone," please enter the code in below box to verify your email."]}),(0,A.jsx)(a.A,{sx:{mt:5,mb:3},children:(0,A.jsx)(f.A,{})}),(0,A.jsxs)(l.A,{variant:"body2",align:"center",children:["Don\u2019t have a code? \xa0",(0,A.jsx)(u.A,{variant:"subtitle2",underline:"none",onClick:()=>{var r;r=null===e||void 0===e?void 0:e.email,n()({title:"Note",text:"Do You Want A New OTP?",icon:"info",button:{text:"Proceed",closeModal:!1},dangerMode:!0}).then(e=>{e?v.A.get("/api/user/resend/".concat(r,"/otp"),{}).then(e=>{n()(e.data.message)}).catch(e=>{""===e.message?n()("Opps!","An Error Occured","error"):n()("Opps!",e.message,"error")}):n()("Request Cancelled")})},children:"Resend code"})]})]})})]})})}}}]);
//# sourceMappingURL=4088.6b06a52c.chunk.js.map