"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[9658],{49658:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var a=t(65043),s=t(35475),r=t(46987),c=t(19252),l=t(78977),d=t(12110),o=t(79650),i=t(71806),u=t(73460),h=t(28076),x=t(10039),g=t(51962),m=t(81045),A=t(85865),b=t(4598),f=t(19090),j=t(12220),k=t(81637),p=t(73023),S=t.n(p),v=t(74605),w=t(48407),C=t(11737),y=t(19838),B=t(26776),N=t(90797),I=t(12670),O=t(24753),P=t(14539),R=t(84473),_=t(70579);const D=[{id:"added_by",label:"Added By",alignRight:!1},{id:"number",label:"BLOCK NUMBER",alignRight:!1},{id:"date",label:"Added Date",alignRight:!1}];function L(){const{themeStretch:e}=(0,C.A)(),[n,t]=(0,a.useState)([]),[p,L]=(0,a.useState)(0),[q,z]=(0,a.useState)("asc"),[E,M]=(0,a.useState)([]),[W,K]=(0,a.useState)("id"),[T,Y]=(0,a.useState)(""),[F,Q]=(0,a.useState)(5),[G,H]=(0,a.useState)(!1),{enqueueSnackbar:J}=(0,r.dh)(),V=window.localStorage.getItem("accessToken"),[X,Z]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{await R.A.get("/api/user/banned/adex/ade/banned/user/".concat(V,"/secure")).then(e=>{var n;t(null===(n=e.data)||void 0===n?void 0:n.autobanned),Z(!1)}).catch(()=>Z(!1))})()},[V]);const $=e=>{S()({title:"Note",text:"Are You Sure You Want To Delete this Block Number",icon:"info",buttons:!0,dangerMode:!0}).then(a=>{a?R.A.post("/api/delete/user/adex/block/hacker/".concat(V,"/system"),{number:e}).then(a=>{J(a.data.message);const s=n.filter(n=>!e.includes(n.number));M([]),t(s)}).catch(e=>{var n;null!==(n=e.data)&&void 0!==n&&n.message?J(e.data.message,{variant:"error"}):J("An Error Occured",{variant:"error"})}):S()("Request Cancelled")})},ee=p>0?Math.max(0,(1+p)*F-n.length):0,ne=function(e,n,t){const a=e.map((e,n)=>[e,n]);if(a.sort((e,t)=>{const a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]}),t)return e.filter(e=>-1!==e.number.indexOf(t)||-1!==e.added_by.toLowerCase().indexOf(t.toLowerCase()));return a.map(e=>e[0])}(n,function(e,n){return"asc"===e?(e,t)=>U(e,t,n):(e,t)=>-U(e,t,n)}(q,W),T),te=!ne.length&&Boolean(T);return(0,_.jsx)(y.A,{title:"User: Blocked Numbers",children:(0,_.jsxs)(c.A,{maxWidth:!e&&"lg",children:[(0,_.jsx)(O.A,{heading:"Blocked Number",links:[{name:"Dashboard",href:w.mB.root},{name:"Adex"}],action:(0,_.jsx)(l.A,{variant:"contained",component:s.N_,to:w.mB.user.addbanned,startIcon:(0,_.jsx)(B.A,{icon:"eva:plus-fill"}),children:"Add Block Number"})}),(0,_.jsxs)(d.A,{children:[(0,_.jsx)(P.Ab,{numSelected:E.length,filterName:T,onFilterName:e=>{Y(e),L(0)},onDeleteUsers:()=>$(E)}),(0,_.jsx)(N.A,{children:(0,_.jsx)(o.A,{sx:{minWidth:800},children:(0,_.jsxs)(i.A,{size:G?"small":"medium",children:[(0,_.jsx)(P.K2,{order:q,orderBy:W,headLabel:D,rowCount:n.length,numSelected:E.length,onRequestSort:e=>{z(W===e&&"asc"===q?"desc":"asc"),K(e)},onSelectAllClick:e=>{if(e.target.checked){const e=n.map(e=>e.number);return void M(e)}M([])},onDeleteUsers:()=>$(E)}),(0,_.jsxs)(u.A,{children:[ne.slice(p*F,p*F+F).map(e=>{const{number:n,added_by:t,profile_image:a,date:s}=e,r=-1!==E.indexOf(n);return(0,_.jsxs)(h.A,{hover:!0,tabIndex:-1,role:"checkbox",selected:r,"aria-checked":r,children:[(0,_.jsx)(x.A,{children:(0,_.jsx)(g.A,{checked:r,onClick:()=>(e=>{const n=E.indexOf(e);let t=[];-1===n?t=t.concat(E,e):0===n?t=t.concat(E.slice(1)):n===E.length-1?t=t.concat(E.slice(0,-1)):n>0&&(t=t.concat(E.slice(0,n),E.slice(n+1))),M(t)})(n)})}),(0,_.jsxs)(x.A,{sx:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(m.A,{alt:t,src:a,sx:{mr:2}}),(0,_.jsx)(A.A,{children:t})]}),(0,_.jsx)(x.A,{align:"left",children:n}),(0,_.jsx)(x.A,{align:"left",children:s})]},n)}),ee>0&&(0,_.jsx)(h.A,{style:{height:53*ee},children:(0,_.jsx)(x.A,{colSpan:6})})]}),te&&(0,_.jsx)(h.A,{children:(0,_.jsx)(x.A,{align:"center",colSpan:5,sx:{py:3},children:(0,_.jsx)(I.A,{searchQuery:T})})})]})})}),(0,_.jsx)(v.A,{control:(0,_.jsx)(b.A,{checked:G,onChange:e=>function(e){H(e.target.checked)}(e)}),label:"Dense padding",align:"left"}),(0,_.jsx)(f.A,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:F,page:p,onPageChange:(e,n)=>L(n),onRowsPerPageChange:e=>{Q(parseInt(e.target.value,10)),L(0)}})]}),(0,_.jsx)(j.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:X,children:(0,_.jsx)(k.A,{color:"inherit"})})]})})}function U(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}}}]);
//# sourceMappingURL=9658.c4e97b35.chunk.js.map