AMTPAY: Wrong Webhook Secret Issue
====================================

PROBLEM IDENTIFIED:
-------------------
You're using the WRONG webhook secret in your .env file.

Your .env has:
POINTWAVE_WEBHOOK_SECRET=whsec_383b656ab3e08d06598c6cec6f429d07a43047030265e45ff70b89d04f0f6e24

But PointWave is sending webhooks signed with a DIFFERENT secret.

EVIDENCE:
---------
- PointWave sent signature: 978ad8405b2f656b19d9f6da39512052618733d75e7d99e5874d273b1fc3ad39
- You calculated signature: 105e7b5b3a3cfc708338ac1066e906d66e1003e33bc32530732d6386c94cf799
- These don't match = wrong secret

THE FIX:
--------
Contact PointWave support and ask them:

"What is the correct webhook secret for our company (Amtpay, company_id: 10)?"

They will give you the correct secret to put in your .env file.

TEMPORARY SOLUTION:
-------------------
For now, you have 2 options:

Option 1: Keep the bypass (NOT RECOMMENDED - security risk)
   - Your system works but is vulnerable to fraud
   - Anyone can send fake webhooks

Option 2: Contact PointWave NOW to get correct secret
   - They can check their database for your correct webhook secret
   - Update your .env with the correct secret
   - Remove the bypass
   - System will be secure

WHY THIS HAPPENED:
------------------
Possible reasons:
1. You copied the wrong secret from PointWave dashboard
2. PointWave regenerated your secret and didn't notify you
3. You're using a test/sandbox secret instead of production secret
4. The secret in PointWave's database doesn't match what you have

NEXT STEPS:
-----------
1. Contact PointWave support immediately
2. Ask for your correct webhook secret
3. Update POINTWAVE_WEBHOOK_SECRET in your .env
4. Test webhook again
5. Remove the bypass code once it works

---

NOTE TO POINTWAVE:
Run this on your live server to check:
php verify_amtpay_webhook_secret.php

This will show what webhook secret is in your database for Amtpay.
